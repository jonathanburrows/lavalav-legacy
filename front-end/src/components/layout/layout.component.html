<!--Shadow was halfed because the one from the material framework is way to strong. -->
<aside class="side-nav mat-elevation-z8" [class.show-side-nav]="showSideNav">
    <header class="side-nav__header">
        <!--Todo, replace with a link to an image.-->
        <md-icon class="side-nav__header__icon">dashboard</md-icon>
        <span class="side-nav__header__title">{{siteTitle}}</span>
    </header>

    <nav class="side-nav__group" *ngFor="let group of routeGroups">
        <header class="side-nav__group__title">{{group.group}}</header>

        <section *ngFor="let route of group.routes" class="side-nav__group__item" routerLinkActive="active" routerLink="/{{route.path}}">
            <md-icon *ngIf="route.data.icon"
                     class="side-nav__group__item__icon"
                     [class.side-nav__group__item__icon--selected]="selectedRoute === route">
                {{route.data.icon}}
            </md-icon>
            <span class="side-nav__group__item__text"
                  [class.side-nav__group__item__title--selected]="selectedRoute === route">
                {{route.data.title}}
            </span>
        </section>
    </nav>
</aside>
<aside class="side-nav__overlay" [class.show-side-nav]="showSideNav" (click)="closeSideNav()"></aside>

<!--Shadow was halfed because the one from the material framework is way to strong. -->
<md-toolbar color="primary" class="toolbar mat-elevation-z4">
    <!-- The automatically generated row is hidden, so styles to the class can be applied. -->
    <md-toolbar-row class="toolbar__row">
        <md-icon class="toolbar__menu-icon" (click)="openSideNav()">menu</md-icon>

        <span class="toolbar__title">{{selectedRoute?.data?.title}}</span>

        <span class="toolbar__filler"></span>

        <label class="toolbar__search">
            <md-icon class="toolbar__search__icon" (click)="openSearch()">search</md-icon>

            <span class="toolbar__search__expander" [class.toolbar__search__expander--expanded]="showSearch">
                <md-input-container floatPlaceholder="never">
                    <!-- md-placeholder was used so that a custom color can be applied (needs to be constrasted against the toolbar color) -->
                    <md-placeholder class="toolbar__search__placeholder">Search</md-placeholder>
                    <input mdInput type="search" class="toolbar__search__input" />
                </md-input-container>
                <md-icon class="toolbar__search__icon toolbar__search__icon--close" (click)="closeSearch()">close</md-icon>
            </span>
        </label>
    </md-toolbar-row>
</md-toolbar>

<section class="screen">
    <!-- Important: due to a bug in angular, make sure a selector is applied, otherwise it will render the root app twice. -->
    <ng-content select="router-outlet"></ng-content>
</section>